/*! ulib 04-12-2013 */
var ulib=this.ulib||{};(function(){var a=this.ulib||{};(function(){var b=function(a){var b=a.url,c=a.callBack,d=a.type||"ajax",e="undefined"!=typeof a.async?a.async:!0,f=function(a,b){var c=function(a,b){return function(){return a.apply(b,[b])}},d=function(){4==request.readyState&&b(request.responseText)},f=function(){return window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):window.XMLHttpRequest?new XMLHttpRequest:!1},g=arguments[2]||"";if(request=f()){var h=request;h.onreadystatechange=c(d,this),""!==g?(h.open("POST",a,e),h.setRequestHeader("X-Requested-With","XMLHttpRequest"),h.setRequestHeader("Content-type","application/x-www-form-urlencoded"),h.setRequestHeader("Connection","close")):h.open("GET",a,e),h.send(g)}},g=function(a,b){var c=document.getElementsByTagName("head")[0]||document.documentElement,d=document.createElement("script");d.src=a;var e=!1;return d.onload=d.onreadystatechange=function(){e||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(e=!0,b(),d.onload=d.onreadystatechange=null,c&&d.parentNode&&c.removeChild(d))},c.insertBefore(d,c.firstChild),void 0};return"ajax"===d?f(b,c):"script"===d?g(b,c):void 0};a.ajax=b}).call(this);var a=this.ulib||{};(function(){var b={get:function(a){var b=window.document.cookie.match(new RegExp(a+"=[^;]+($|;)","gi"));return b&&b[0]?window.unescape(b[0].substring(a.length+1,b[0].length).replace(";",""))||null:null},set:function(a,b,c){var d,e,f,g=[a+"="+window.escape(b)];return c=c||{},c.session||(d=isNaN(parseInt(c.days,10))?1:parseInt(c.days,10),e=new Date,f=24*d*60*60*1e3,e.setTime(e.getTime()+f),g.push("expires="+e.toGMTString())),c.path&&g.push("path="+c.path),c.domain&&g.push("domain="+c.domain),c.secure&&g.push("secure"),c.httponly&&g.push("httponly"),window.document.cookie=g.join("; "),window.document.cookie},remove:function(a){this.get(a)&&this.set(a,"",{days:-1})}};a.cookie=b}).call(this);var a=this.ulib||{};(function(){var b=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},c=function(a,b){for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b(c,a[c])},d=navigator.userAgent.toLowerCase().indexOf("firefox")>-1;a.bind=b,a.forEach=c,a.isFirefox=d}).call(this);var a=this.ulib||{};(function(){var b=function(a){var b,c=(a&&a.scriptprefix?a.scriptprefix:"_jsonp")+(new Date).getTime()+Math.round(1e8*Math.random(),0),d=a.url,e=a.cb,f=a&&a.callback?a.callback:"callback",g=a&&a.context?a.context:window,h=window.document.getElementsByTagName("head").item(0),i=window.document.createElement("script"),j=null,k=a&&a.timeout?a.timeout:1e4,l=a&&a.error?a.error:function(){},m=function(a,b){var c=window.document.getElementById(b),d=function(a){var b;if(c.parentNode.removeChild(c),c)for(b in c)c&&b&&c.hasOwnProperty&&c.hasOwnProperty(b)&&delete c[b];if(window[a]&&window[a])try{delete window[a]}catch(d){return!1}};return k&&(j=window.setTimeout(function(){l.apply(g,[]),d(b)},k)),c.onerror=function(){window.clearTimeout(j),l.apply(g,[]),d(b)},function(c){window.clearTimeout(j),a.apply(g,[c]),d(b)}},n=function(a){return/\?/.test(a)?"&":"?"};c=a&&a.scriptoverride?a.scriptoverride:c,e&&(a&&a.callback?d+=n(d)+window.escape(a.callback)+"=?":-1===d.indexOf(f)&&(d+=n(d)+window.escape(f)+"=?"),b=new RegExp("=\\?(&|$)"),d=d.replace(b,"="+c+"$1")),i.setAttribute("type","text/javascript"),i.setAttribute("src",d),i.setAttribute("id",c),h.appendChild(i),e&&(window[c]=m(e,c))};a.jsonp=b}).call(this),this.ulib=this.ulib||{},function(){var b=function(a){var b=[],c=function(){},d={},e=null,f={},g=!1,h=!1,i={INVALID_TRIGGER:"InvalidTrigger"},j={},k=function(a){var b=[];return j.hasOwnProperty(a)&&(b=j[a]),b},l=null;this.reset=function(){b=[],j={}},this.getCore=function(){return l},this.hasEvent=function(a){var c;for(c=0;c<b.length;c+=1)if(b[c]===a)return!0;return!1},this.on=function(a,b){var c=this.hasEvent(a);return!c&&g||(j[a]=j[a]||[],j[a].push(b),c)?!1:(this.addEventType({type:a}),!0)},this.off=function(a,b){var c,d=!1;if(this.hasEvent(a)&&j[a]){for(c=0;c<j[a].length;c+=1)if(b){if(j[a][c]===b){j[a].splice(c,1),d=!0;break}}else j[a]=[],d=!0;return d}return!1},this.trigger=function(){var a,b,g,j=arguments,m=[],n=j[0],o=d[n],p=!0,q=function(a,b,d){try{l?a.apply(l({eventName:d}),b):a.apply(a,b)}catch(e){c(e)}},r=function(a,b,c){f[o.defer].push({func:a,type:b,args:c})};for(a=1;a<j.length;a+=1)m.push(j[a]);if(this.hasEvent(n)){for(g=k(n),a=0;a<g.length;a+=1)if(o.once&&o.hasRunOnce&&(p=!1),o.nonconsec&&e===n&&(p=!1),o.after&&e!==o.after&&(p=!1),o.defer&&e!==o.defer&&(p=!1,f[o.defer]=f[o.defer]||[],r(g[a],n,m,l)),p&&(q(g[a],m,n,l),o.once&&(o.hasRunOnce=!0)),f[n])for(b=0;b<f[n].length;b+=1)q(f[n][b].func,f[n][b].args,f[n][b].type,l);e=n}else if(h)throw i.INVALID_TRIGGER+": "+n},this.addEventType=function(a){var c=d[a.type]||{};d[a.type]={once:a.once||c.once||!1,nonconsec:a.nonconsec||c.nonconsec||!1,after:a.after||c.after||null,defer:a.defer||c.defer||null},b.push(a.type)},this.getEventTypes=function(){return b},this.removeEventType=function(a){var c;for(c=0;c<b.length;c+=1)if(b[c]===a)return b.splice(c,1),d[a]=null,!0;return!1},a&&(void 0!==a.core&&(l=a.core),void 0!==a.events&&(b=a.events),void 0!==a.eventTypeCheck&&(g=!!a.eventTypeCheck),void 0!==a.eventListeners&&(j=a.eventListeners),void 0!==a.eventException&&(h=a.eventException),void 0!==a.triggerErrorHandler&&(c=a.triggerErrorHandler))};a.pubsub=new b,a.Pubsub=b}.call(this);var a=this.ulib||{};(function(){var b=function(b){b=b||{};var c,d,e={},f={},g=!0,h={PluginAlreadyExists:"Plugin already exists, set pluginOverride to true to override, plugin name: ",PluginDoesnotExist:"Plugin not found",TriggerError:"Event could not be triggered in: "},i=b.triggerPluginErrors||!0,j=function(a,b){return function(){a.apply(b,arguments)}},k=function(a,b){i&&window.console&&console.error&&(h.hasOwnProperty(a)?console.error("ulib "+a+" - "+h[a]+(b?b:"")):console.error("ulib "+a+" - "+h.TriggerError+(b?b:"")))},l=function(a){var b,c={};for(b in n)n.hasOwnProperty(b)&&(c[b]=n[b]);for(b in a)a.hasOwnProperty(b)&&(c[b]=a[b]);return void 0!==typeof a.name?c.pluginName=a.name:k("PluginDoesnotExist"," name not specified"),c},m=b.pubsub||new a.Pubsub({core:l,eventException:!0,triggerErrorHandler:function(a){k("TriggerError",d+"\n"+a)}}),n={expose:function(a,b){return j(a,b)},get:function(a){return a?e[a]:e},set:function(a,b){e[a]=b},on:function(a,b,c){void 0!==c&&(d=c);var e=d,f=function(){var a=m.getCore();d=e,b.apply(a?a():m,arguments)};r[this.pluginName]=r[this.pluginName]||[],r[this.pluginName].push({name:a,func:f}),m.on(a,f)},off:j(m.off,m),trigger:j(m.trigger,m)},o=function(a){capEve=a.type.substring(0,1).toUpperCase()+a.type.substring(1),n["on"+capEve]=p(a.type),m.addEventType(a)},p=function(a){var b=m.getCore();return j(function(b,c){void 0!==c&&(d=c);var e=d,f=function(){var a=m.getCore();d=e,b.apply(a?a():m,arguments)};r[d]=r[d]||[],r[d].push({name:a,func:f}),m.on(a,f)},b?b():m)},q=[],r={},s=function(a){var b;for(b=0;b<q.length;b+=1)if(q[b].name===a)return q[b];return!1},t=function(a,b){var c,e,f=!!s(a);if(d=a,f){if(!g)return k("PluginAlreadyExists",a),!1;for(c=0;c<q.length;c+=1)if(q[c].name===a){if(r[a])for(e=0;e<r[a].length;e+=1)m.off(r[a][e].name,r[a][e].func);return delete q[c].obj,q[c].obj=b,u(q[c]),q[c]}}else q.push({name:a,obj:b}),u(q[q.length-1]);return!0},u=function(a,b){var c,d=f["*"];if(b=void 0!==b?b:f[a.name],d){b=b||{};for(c in d)d.hasOwnProperty(c)&&(b.hasOwnProperty(c)||(b[c]=d[c]))}a.obj.apply(l({name:a.name}),[void 0!==b?b:{}])};if(this.registerEvent=o,this.add=t,this.trigger=j(m.trigger,m),b&&b.events)for(c=0;c<b.events.length;c+=1)o(b.events[c]);void 0!==b.config&&(e=b.config),void 0!==b.pluginConfig&&(f=b.pluginConfig),void 0!==b.pluginOverride&&(g=b.pluginOverride)};a.plugin=new b,a.PluginManager=b}).call(this);var a=this.ulib||{};(function(){var b,c=!1,d=[],e=function(){var a;for(a=0;a<d.length;a+=1)d[a]()},f=function(){if(!c){try{document.documentElement.doScroll("left")}catch(a){return window.setTimeout(f,1),void 0}e()}},g=function(a){if(a!==!0&&!c){if(!document.body)return window.setTimeout(g,1);c=!0,e()}},h=function(){if("complete"===document.readyState)return window.setTimeout(g,1);if(document.addEventListener)document.addEventListener("DOMContentLoaded",b,!1),window.addEventListener("load",g,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",b),window.attachEvent("onload",g);var a=!1;try{a=null===window.frameElement}catch(c){}document.documentElement.doScroll&&a&&f()}},i=function(a){c?a():d.push(a)};document.addEventListener?b=function(){document.removeEventListener("DOMContentLoaded",b,!1),g()}:document.attachEvent&&(b=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",b),g())}),h(),a.ready=i}).call(this);var a=this.ulib||{};(function(){var b={},c=function(a,c){var d=b[a]||new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+a.replace(/[\r\t\n]/g," ").split("<%").join("	").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("	").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return b[a]=d,c?d(c):d};a.template=c}).call(this);var a=this.ulib||{};(function(){var b=function(a){var b,c,d={hash:"",params:{}};return a=a?a:window.location.href,-1!==a.indexOf("#")&&(d.hash=a.substr(a.lastIndexOf("#")),""!==d.hash&&(d.hash=d.hash.substr(1)),a=a.substr(0,a.indexOf("#"))),c=new RegExp("[?&]+([^=&]+)=([^&]*)","gi"),b=a.replace(c,function(a,b,c){"undefined"!=typeof d.params[b]?("[object Array]"!==Object.prototype.toString.call(d.params[b])&&(d.params[b]=[d.params[b]]),d.params[b].push(c)):d.params[b]=c}),d},c=function(a){var b,c="",d=0;for(b in a)a.hasOwnProperty(b)&&(c+=(0===d?"":"&")+b+"="+encodeURIComponent(a[b]),d+=1);return c};a.url=b,a.urlString=c}).call(this);var a=this.ulib||{};(function(){var b=function(){var a=this;this.isFunction=function(a){return"[object Function]"===Object.prototype.toString.call(a)},this.getType=function(a){var b,c={},d="Boolean Number String Function Array Date RegExp Object".split(" ");for(b=0;b<d.length;b+=1)c["[object "+d[b]+"]"]=d[b].toLowerCase();return null===a?String(a):c[{}.toString.call(a)]||"object"},this.isArray=function(b){return"array"===a.getType(b)},this.isWindow=function(a){return a&&"object"==typeof a&&"setInterval"in a},this.isPlainObject=function(b){if(!b||"object"!==a.getType(b)||b.nodeType||a.isWindow(b))return!1;if(b.constructor&&!Object.prototype.hasOwnProperty.call(b,"constructor")&&!Object.prototype.hasOwnProperty.call(b.constructor.prototype,"isPrototypeOf"))return!1;var c,d;for(c in b)b.hasOwnProperty(c)&&(d+=1);return void 0===c||{}.hasOwnProperty.call(b,c)},this.extend=function(){var b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[1]||{},h=2),"object"==typeof g||a.isFunction(g)||(g={}),i===h&&(g=this,h-=1);i>h;h+=1)if(null!==(b=arguments[h]))for(c in b)if(b.hasOwnProperty(c)){if(d=g[c],e=b[c],g===e)continue;j&&e&&(a.isPlainObject(e)||a.isArray(e))?(f=d&&(a.isPlainObject(d)||a.isArray(d))?d:a.isArray(e)?[]:{},g[c]=a.extend(j,f,e)):void 0!==e&&(g[c]=e)}return g},this.augment=function(a,b){var c;for(c in b)b.hasOwnProperty(c)&&(b[c]&&b[c].constructor&&b[c].constructor===Object?(a[c]=a[c]||{},arguments.callee(a[c],b[c])):"[object Array]"===Object.prototype.toString.call(a[c])?b[c]&&"[object Array]"===Object.prototype.toString.call(b[c])&&(a[c]=a[c].concat(b[c])):a[c]=b[c]);return a},this.each=function(a,b){if(a){var c,d=0,e=a.length;if(void 0===e){for(c in a)if(b.call(a[c],c,a[c])===!1)break}else for(var f=a[0];e>d&&b.call(f,d,f)!==!1;f=a[++d]);return a}}};a.utils=new b}).call(this)}).call(this);